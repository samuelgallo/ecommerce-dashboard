<%- include('../partials/head'); -%>
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

<div class="container-fluid">
  <div class="row">
    <%- include('../partials/sidebar'); -%>

    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
      <%- include('../partials/header'); -%>

      <div class="row">
        <div class="col-12">
          <div class="welcome">
            <h1>New Product</h1>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12 col-md-6">
          <form method="POST" action="/dashboard/products/save" enctype="multipart/form-data">
            <div class="form-group row">
              <label for="name" class="col-sm-12 col-form-label">Name</label>
              <div class="col-sm-12">
                <input type="text" class="form-control" id="name" name="name" required>
              </div>
            </div>
            <div class="form-group row">
              <label for="path" class="col-sm-12 col-form-label">Url</label>
              <div class="col-sm-12">
                <input type="text" class="form-control" id="path" name="path">
              </div>
            </div>
            <div class="form-group row">
              <label for="sku" class="col-sm-12 col-form-label">SKU</label>
              <div class="col-sm-12">
                <input type="text" class="form-control" id="sku" name="sku" required>
              </div>
            </div>
            <div class="form-group row">
              <label for="price" class="col-sm-12 col-form-label">Price</label>
              <div class="col-sm-12">
                <input type="number" class="form-control" id="price" name="price">
              </div>
            </div>
            <div class="form-group row">
              <label for="special_price" class="col-sm-12 col-form-label">Special Price</label>
              <div class="col-sm-12">
                <input type="number" class="form-control" id="special_price" name="special_price">
              </div>
            </div>
            <div class="form-group row mb-5">
              <label for="description" class="col-sm-12 col-form-label">Description</label>
              <div class="col-sm-12">
                <textarea class="form-control d-none" name="description" id="description" cols="30" rows="10"></textarea>
                <div id="editor"></div>
                <div class="clearfix"></div>
              </div>
            </div>
            <div class="form-group row">
              <label for="quantity" class="col-sm-12 col-form-label">Quantity</label>
              <div class="col-sm-12">
                <input type="number" class="form-control" id="quantity" name="quantity">
              </div>
            </div>
            <div class="form-group row">
              <label for="status" class="col-sm-12 col-form-label">Status</label>
              <div class="col-sm-12">
                <select class="custom-select" id="status" name="status">
                  <option selected disabled value="">Choose...</option>
                  <option value="enable">Enable</option>
                  <option value="disable">Disable</option>
                </select>
              </div>
            </div>

            <div class="form-group row">
              <label for="images" class="col-sm-12 col-form-label">Image</label>
              <div class="col-sm-12">
                <input type="file" id="images" name="images" accept="image/png, image/jpeg" multiple>
              </div>
            </div>

            <div class="form-group row mt-5">
              <div class="col-sm-12">
                <button type="submit" class="btn btn-primary"><span data-feather="save"></span> Save</button>
              </div>
            </div>

          </form>
        </div>
      </div>

      <%- include('../partials/copyright'); -%>

    </main>
  </div>
</div>
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<script>
  var e = document.getElementById('name');
  var out = document.getElementById('path');

  e.addEventListener('input', function(event) {
    window.setTimeout(function() {
      out.value = event.target.value.toLowerCase().replace(/[^\w\s]/gi, '').replace(/\s/g, '-').replace('--', '-');
    }, 1);
  });

  var editor = document.getElementById('editor');
  var description = document.getElementById('description');

  editor.addEventListener('input', function(event) {
    window.setTimeout(function() {
      description.value = event.target.innerHTML;
      console.log(event.target.innerHTML)
    }, 1);
  });

  var toolbarOptions = [
    ['bold', 'italic', 'underline', 'strike'],        // toggled buttons
    ['blockquote', 'code-block'],

    [{ 'header': 1 }, { 'header': 2 }],               // custom button values
    [{ 'list': 'ordered'}, { 'list': 'bullet' }],
    [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript
    [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent
    [{ 'direction': 'rtl' }],                         // text direction

    [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown
    [{ 'header': [1, 2, 3, 4, 5, 6, false] }],

    [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme
    [{ 'font': [] }],
    [{ 'align': [] }],

    ['clean']                                         // remove formatting button
  ];
  var quill = new Quill('#editor', {
    theme: 'snow',
    modules: {
      toolbar: toolbarOptions
    }
    
  });
</script>
<%- include('../partials/footer'); -%>
